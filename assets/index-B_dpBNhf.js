(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))u(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&u(r)}).observe(document,{childList:!0,subtree:!0});function g(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function u(e){if(e.ep)return;e.ep=!0;const o=g(e);fetch(e.href,o)}})();document.addEventListener("DOMContentLoaded",()=>{const p=document.getElementById("footer-logo-top");p&&p.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});const a=document.querySelectorAll(".nav-item"),g=document.querySelectorAll("section[id]"),u=getComputedStyle(document.documentElement).getPropertyValue("--scroll-offset").trim(),e=parseInt(u)||140;function o(){let t=window.scrollY,n="";const l=document.querySelector(".sticky-nav"),b=l?l.offsetHeight+30:e;g.forEach(s=>{const d=s.offsetTop-b,E=d+s.offsetHeight;t>=d&&t<E&&(n=s.getAttribute("id"))}),a.forEach(s=>{const d=s.getAttribute("href");s.classList.remove("active"),n&&d&&d.endsWith("#"+n)&&s.classList.add("active")})}window.addEventListener("scroll",o);const r=document.querySelectorAll(".polaroid-img"),f=document.querySelector(".polaroid-caption");if(r.length>0){let t=0;f&&r[0].getAttribute("title")&&(f.innerText=r[0].getAttribute("title")),setInterval(()=>{if(r[t].classList.remove("active"),t=(t+1)%r.length,r[t].classList.add("active"),f){const n=r[t].getAttribute("title");n&&(f.innerText=n)}},4e3)}const i=document.getElementById("contact-form"),h=document.getElementById("form-success"),c=document.getElementById("form-status-error"),m=document.getElementById("submit-button"),v=document.getElementById("reset-form");i&&i.addEventListener("submit",async t=>{t.preventDefault();const n=new FormData(t.target);m.disabled=!0,m.innerText="ENVIANDO...",c.style.display="none";try{(await fetch(t.target.action,{method:i.method,body:n,headers:{Accept:"application/json"}})).ok?(i.style.display="none",h.style.display="block",i.reset()):(c.innerText="Huy, algo ha ido mal. Por favor, inténtalo de nuevo.",c.style.display="block")}catch{c.innerText="Error de conexión. Revisa tu red e inténtalo de nuevo.",c.style.display="block"}finally{m.disabled=!1,m.innerText="ENVIAR EN UN CLIC"}});const y=document.getElementById("tel");y&&y.addEventListener("input",t=>{const n="+34 ";t.target.value.startsWith(n)||(t.target.value=n);const l=t.target.value.substring(n.length).replace(/\D/g,"");t.target.value=n+l.substring(0,9)}),v&&v.addEventListener("click",()=>{h.style.display="none",i.style.display="flex",c.style.display="none",y&&(y.value="+34 ")})});
